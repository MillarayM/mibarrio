<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.2/lumen/bootstrap.min.css"
    />
    <title>Document</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Mi Barrio</a>
      </div>
      <div
        class="collapse navbar-collapse d-flex justify-content-end"
        id="navbarNavAltMarkup"
      >
        <div class="navbar-nav">
          <a class="nav-link active" aria-current="page" href="../index.html"
            >Inicio</a
          >
          <a
            class="nav-link"
            href="#"
            data-toggle="modal"
            data-target="#exampleModal"
            id="botonLogin"
            >Iniciar Sesión</a
          >
          <a
            class="nav-link d-none"
            id="botonCerrarSesión"
            aria-current="page"
            href=""
            >Cerrar Sesión</a
          >
        </div>
      </div>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarNavAltMarkup"
        aria-controls="navbarNavAltMarkup"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <!-- Creando Dropdown con acciones de ADMIN -->
      <div class="dropdown d-none" id="dropdownButton">
        <div class="dropdown">
          <button
            class="btn btn-primary dropdown-toggle"
            type="button"
            id="dropdownMenuButton"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Acciones Administrador
          </button>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <li><a class="dropdown-item" id="users">Editar Usuarios</a></li>
            <li>
              <a class="dropdown-item" id="comments">Editar Comentarios</a>
            </li>
            <li><a class="dropdown-item" id="projects">Editar Proyectos</a></li>
            <li>
              <a class="dropdown-item" id="neighborhood">Editar Barrios</a>
            </li>
            <li><a class="dropdown-item" id="contacts">Editar Contactos</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Modal para inicio de sesión -->

    <!-- Modal -->
    <div
      class="modal fade"
      id="exampleModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">
              Ingrese sus credenciales
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form id="formularioInicio">
              <div class="form-group">
                <label for="exampleInputEmail1">Correo Electrónico</label>
                <input
                  type="email"
                  class="form-control"
                  id="mail"
                  aria-describedby="emailHelp"
                  placeholder="Ingrese e-Mail"
                />
              </div>
              <div class="form-group">
                <label for="exampleInputPassword1">Contraseña</label>
                <input
                  type="password"
                  class="form-control"
                  id="pwd"
                  placeholder="Contraseña"
                />
              </div>
              <button
                type="submit"
                class="btn btn-primary"
                data-dismiss="modal"
                id="botonIngresar"
              >
                Enviar
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
    <!-- Fin modal para inicio de sesión -->

    <!-- DIV cuando no está logeado -->
    <div class="p-5" id="bienvenida">
      <div class="row">
        <div class="col-md-6 offset-md-3">
          <ul class="list-group" id="listadoComentarios">
            <li class="list-group-item">
              <h1 class="text-center text-primary">
                <b> Bienvenidos al portal Administrador</b>
              </h1>
              <br />
              <h4>
                Mediante este portal, podrás iniciar sesión como Aministrador,
                teniendo todas lasfuncionalidades que ofrece el sitio
                (Creación/Edición/Eliminación). <br /><br />
                Por favor, haz click en el botón "Login" e ingresa tus
                credenciales para poder disfrutar de los permisos de
                administrador.
              </h4>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <!-- Fin DIV cuando no está logeado -->

    <!-- DIV cuando estás logeado -->
    <div class="p-5 d-none" id="pantallaLogIn">
      <div class="row">
        <div class="col-md-6 offset-md-3">
          <ul class="list-group" id="listadoComentarios">
            <li class="list-group-item">
              <h1 class="text-center text-primary">
                <b> Gracias por Autenticar tus credenciales</b>
              </h1>
              <br />
              <h4>
                Ahora podrás gozar de la funcionalidad completa de la página. En
                el botón "Gestión Administrador", encontrarás las diversos
                acciones que podrás aplicar en nuestro portal. <br />
                <br />
                No te olvides de cerrar sesión, una vez termines.
              </h4>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <!-- Fin DIV cuando no está logeado -->

    <!-- Inicio de secciones CRUD -->
    <div id="sections" class="d-none container">
      <section id="usersSection" class="container p-4">
        <!-- INICIO CRUD usuario -->

        <h2>Administrador - Sección Usuarios</h2>
        <h2 class="text-center">Registrate</h2>
        <form id="usuarioFormulario" class="row g-3">
          <div class="form-group col-md-6">
            <label for="usuarioNombre" class="form-label">Nombre</label>
            <input
              type="text"
              id="usuarioNombre"
              class="form-control"
              placeholder="Nombre del usuario"
              autofocus
            />
          </div>
          <div class="form-group col-md-6">
            <label for="usuarioApellido" class="form-label">Apellidos</label>
            <input
              type="text"
              id="usuarioApellido"
              class="form-control"
              placeholder="Apellido"
            />
          </div>
          <div class="form-group col-md-6">
            <label for="usuarioRut" class="form-label">Rut</label>
            <input
              type="text"
              id="usuarioRut"
              class="form-control"
              placeholder="Rut"
            />
          </div>
          <div class="form-group col-md-6">
            <label for="usuarioPassword" class="form-label">Contraseña</label>
            <input
              type="password"
              id="usuarioPassword"
              class="form-control"
              placeholder="Password"
            />
          </div>
          <div class="form-group col-md-6">
            <label for="usuarioDireccion" class="form-label">Dirección</label>
            <input
              type="text"
              id="usuarioDireccion"
              class="form-control"
              placeholder="Dirección"
            />
          </div>
          <div class="form-group col-md-6">
            <label for="usuarioEmail" class="form-label">Email</label>
            <input
              type="email"
              id="usuarioEmail"
              class="form-control"
              placeholder="Email"
            />
          </div>
          <div class="form-group col-md-6">
            <label for="usuarioTelefono" class="form-label">Teléfono</label>
            <input
              type="text"
              id="usuarioTelefono"
              class="form-control"
              placeholder="Teléfono"
            />
          </div>
          <div class="form-group col-md-6">
            <label for="usuarioBarrio" class="form-label"
              >Barrio o territorio</label
            >
            <input
              type="text"
              id="usuarioBarrio"
              class="form-control"
              placeholder="Barrio"
            />
          </div>
          <div class="col-12 text-center">
            <button class="btn btn-primary" id="btnUsuarioFormulario">
              Registrate
            </button>
          </div>
        </form>

        <!-- listado de solicitud de Usuarios intento tabla-->
        <div class="row">
          <div id="usuarioContenedor" class="col-md-12">
            <table id="usuarioTablas" class="table table-striped bg-light">
              <thead>
                <tr>
                  <th scope="col">Nombre usuario</th>
                  <th scope="col">Apellidos Usuarios</th>
                  <th scope="col">RUT</th>
                  <th scope="col">Contraseña</th>
                  <th scope="col">Dirección</th>
                  <th scope="col">Email</th>
                  <th scope="col">Teléfono</th>
                  <th scope="col">Barrio o Territorio</th>
                  <th scope="col">Opciones</th>
                </tr>
              </thead>
              <tbody id="usuarioFilas"></tbody>
            </table>
          </div>
        </div>
        <!-- FIN CRUD usuario -->
      </section>
      <section id="commentsSection" class="p-5">
        <!-- INICIO CRUD comentario -->
        <h2>Administrador - Sección Comentarios</h2>

        <div class="row p-5">
          <h2 class="h4">Administrador - Solicitud de comentario</h2>
          <div class="col-md-12">
            <form id="comentarioFormulario" class="row g-3">
              <div class="form-group col-md-6">
                <label for="comentarioNombre" class="form-label"
                  >Nombre usuario</label
                >
                <input
                  type="text"
                  id="comentarioNombre"
                  class="form-control"
                  placeholder="Nombre Usuario"
                  autofocus
                />
              </div>
              <div class="form-group col-md-6">
                <label for="comentarioFecha" class="form-label"
                  >Fecha de Ingreso</label
                >
                <input
                  type="text"
                  id="comentarioFecha"
                  class="form-control"
                  placeholder="Fecha"
                />
              </div>
              <div class="form-group col-md-6">
                <label for="comentarioBarrio" class="form-label"
                  >Nombre Barrio</label
                >
                <input
                  type="text"
                  id="comentarioBarrio"
                  class="form-control"
                  placeholder="Barrio"
                />
              </div>

              <div class="form-group col-md-6">
                <label for="comentarioDetalle" class="form-label"
                  >Detalle</label
                >
                <textarea
                  type="text"
                  id="comentarioDetalle"
                  class="form-control"
                  placeholder="Detalle , comentario"
                ></textarea>
              </div>

              <div class="form-group col-md-12">
                <button class="btn btn-primary" id="btnComentarioFormulario">
                  Guardar
                </button>
              </div>
            </form>
          </div>
        </div>
        <!-- listado de solicitud de Comentarios intento tabla-->
        <div class="row">
          <div id="comentarioContenedor" class="col-md-12">
            <table id="comentarioTablas" class="table table-striped bg-light">
              <thead>
                <tr>
                  <th scope="col">Nombre usuario</th>
                  <th scope="col">Fecha de Ingreso</th>
                  <th scope="col">Barrio</th>
                  <th scope="col">Detalle</th>
                  <th scope="col">Opciones</th>
                </tr>
              </thead>
              <tbody id="comentarioFilas"></tbody>
            </table>
          </div>
        </div>
        <!-- FIN CRUD comentario -->
      </section>
      <section id="projectsSection" class="p-5">
        <!-- INICIO CRUD proyectos -->
        <h2>Administrador - Sección Proyectos</h2>

        <div class="row p-5">
          <h2 class="h4">Administrador - Solicitud de Proyectos</h2>
          <div class="col-md-12">
            <form id="proyectoFormulario" class="row g-3">
              <div class="form-group col-md-6">
                <label for="proyectoNombre" class="form-label"
                  >Nombre Proyecto</label
                >
                <input
                  type="text"
                  id="proyectoNombre"
                  class="form-control"
                  placeholder="Nombre del proyecto"
                  autofocus
                />
              </div>
              <div class="form-group col-md-6">
                <label for="proyectoBarrio" class="form-label"
                  >Nombre Barrio</label
                >
                <input
                  type="text"
                  id="proyectoBarrio"
                  class="form-control"
                  placeholder="Barrio"
                />
              </div>
              <div class="form-group col-md-6">
                <label for="proyectoDescripcion" class="form-label"
                  >Descripcion</label
                >
                <textarea
                  type="text"
                  id="proyectoDescripcion"
                  class="form-control"
                  placeholder="descripcion"
                >
                </textarea>
              </div>
              <div class="form-group col-md-6">
                <label for="proyectoLikes" class="form-label">Likes</label>
                <input
                  type="text"
                  id="proyectoLikes"
                  class="form-control"
                  placeholder="likes"
                />
              </div>

              <div class="form-group col-md-12">
                <button class="btn btn-primary" id="btnProyectoFormulario">
                  Guardar
                </button>
              </div>
            </form>
          </div>
        </div>

        <!-- Proyecto listado -->
        <div class="col-md-12 bg-info m-3 p-3" id="proyectosContainer">
          <form id="proyectoFormularioBusqueda">
            <div class="form-group">
              <label for="proyectoBusqueda" class="form-label"
                >Burcar por nombre de Barrio</label
              >
              <input
                type="text"
                id="proyectoBusqueda"
                class="form-control"
                placeholder="Nombre del Barrio"
                autofocus
              />
            </div>
            <button class="btn btn-primary" id="btnProyectoFiltro">
              Buscar
            </button>
          </form>
          <div class="row">
            <div id="proyectoContenedorFiltrado" class="col-md-12">
              <table
                id="proyectoTablasFiltrado"
                class="table table-striped bg-light"
              >
                <thead>
                  <tr>
                    <th scope="col">Nombre proyecto</th>
                    <th scope="col">Nombre Barrio</th>
                    <th scope="col">Descripcion</th>
                    <th scope="col">Likes</th>
                  </tr>
                </thead>
                <tbody id="proyectoFilasFiltrado"></tbody>
              </table>
            </div>
          </div>

          <div class="col-md-6" id="proyectosContainerFiltrados"></div>
        </div>

        <!-- listado de solicitud de Proyectos  intento tabla-->
        <div class="row">
          <div id="proyectoContenedor" class="col-md-12">
            <h3 class="p-5 text-center">Todos los Proyectos</h3>
            <table id="proyectoTablas" class="table table-striped bg-light">
              <thead>
                <tr>
                  <th scope="col">Nombre proyecto</th>
                  <th scope="col">Nombre Barrio</th>
                  <th scope="col">Descripcion</th>
                  <th scope="col">Likes</th>
                  <th scope="col">Opciones</th>
                </tr>
              </thead>
              <tbody id="proyectoFilas"></tbody>
            </table>
          </div>
        </div>
        <!-- FIN CRUD proyecto -->
      </section>
      <section id="neighborhoodSection" class="p-5">
        <!-- INICIO CRUD barrio -->
        <h2>Administrador - Sección Barrios</h2>

        <div class="row p-5">
          <h2 class="h4">Administrador - Solicitud de Barrios</h2>
          <div class="col-md-12">
            <form id="barrioFormulario" class="row g-3">
              <div class="form-group col-md-6">
                <label for="barrioNombre" class="form-label"
                  >Nombre barrio</label
                >
                <input
                  type="text"
                  id="barrioNombre"
                  class="form-control"
                  placeholder="Nombre del Barrio"
                  autofocus
                />
              </div>

              <div class="form-group col-md-6">
                <label for="barrioUbicacion" class="form-label"
                  >Ubicación</label
                >
                <input
                  type="text"
                  id="barrioUbicacion"
                  class="form-control"
                  placeholder="Ubicación"
                />
              </div>
              <div class="form-group col-md-6">
                <label for="barrioRegion" class="form-label">Región</label>
                <input
                  type="text"
                  id="barrioRegion"
                  class="form-control"
                  placeholder="Region"
                />
              </div>
              <div class="form-group col-md-6">
                <label for="barrioComuna" class="form-label">Comuna</label>
                <input
                  type="text"
                  id="barrioComuna"
                  class="form-control"
                  placeholder="Comuna"
                />
              </div>
              <div class="form-group col-md-12">
                <label for="barrioHistorial" class="form-label"
                  >Historial</label
                >
                <input
                  type="text"
                  id="barrioHistorial"
                  class="form-control"
                  placeholder="Historial"
                />
              </div>
              <div class="form-group col-md-12">
                <label for="barrioImagen" class="form-label">Imagen</label>
                <input
                  type="file"
                  name="imagen"
                  id="barrioImagen"
                  class="form-control"
                  placeholder="Imagen"
                />
              </div>
              <div class="form-group col-md-12">
                <button class="btn btn-primary" id="btnBarrioFormulario">
                  Guardar
                </button>
              </div>
            </form>
          </div>
        </div>
        <!-- listado de solicitud de Barrios  intento tabla-->
        <div class="row">
          <div id="barrioContenedor" class="col-md-12">
            <table id="barrioTablas" class="table table-striped bg-light">
              <thead>
                <tr>
                  <th scope="col">Nombre barrio</th>
                  <th scope="col">Ubicacion</th>
                  <th scope="col">Region</th>
                  <th scope="col">Comuna</th>
                  <th scope="col">Historial</th>
                  <th scope="col">Imagen</th>
                  <th scope="col">Opciones</th>
                </tr>
              </thead>
              <tbody id="barrioFilas"></tbody>
            </table>
          </div>
        </div>
        <!-- FIN CRUD barrio -->
      </section>
      <section id="contactsSection" class="p-5">
        <!-- INICIO CRUD contacto -->
        <h2>Administrador - Sección Contactos</h2>

        <div class="row p-5">
          <h2 class="h4">Administrador - Solicitud de Contacto</h2>
          <div class="col-md-12">
            <form id="contactoFormulario" class="row g-3">
              <div class="form-group col-md-6">
                <label for="contactoNombre" class="form-label"
                  >Nombre Contacto</label
                >
                <input
                  type="text"
                  id="contactoNombre"
                  class="form-control"
                  placeholder="Nombre del contacto"
                  autofocus
                />
              </div>
              <div class="form-group col-md-6">
                <label for="contactoFecha" class="form-label"
                  >Fecha de Ingreso</label
                >
                <input
                  type="text"
                  id="contactoFecha"
                  class="form-control"
                  placeholder="Fecha"
                />
              </div>
              <div class="form-group col-md-6">
                <label for="contactoEmail" class="form-label">Email</label>
                <input
                  type="email"
                  id="contactoEmail"
                  class="form-control"
                  placeholder="Email"
                />
              </div>
              <div class="form-group col-md-6">
                <label for="contactoEstado" class="form-label">Estado</label>
                <input
                  type="text"
                  id="contactoEstado"
                  class="form-control"
                  placeholder="Estado"
                />
              </div>
              <div class="form-group col-md-12">
                <label for="contactoDetalle" class="form-label">Detalle</label>
                <textarea
                  input
                  type="text"
                  id="contactoDetalle"
                  class="form-control"
                  placeholder="Detalle"
                ></textarea>
              </div>
              <div class="form-group col-md-12">
                <button class="btn btn-primary" id="btnContactoFormulario">
                  Guardar
                </button>
              </div>
            </form>
          </div>
        </div>
        <!-- listado de solicitud de contactos  intento tabla-->
        <div class="row">
          <div id="contactoContenedor" class="col-md-12">
            <table id="contactoTablas" class="table table-striped bg-light">
              <thead>
                <tr>
                  <th scope="col">Nombre Contacto</th>
                  <th scope="col">Fecha de Ingreso</th>
                  <th scope="col">Email</th>
                  <th scope="col">Estado</th>
                  <th scope="col">Detalle</th>
                  <th scope="col">Opciones</th>
                </tr>
              </thead>
              <tbody id="contactoFilas"></tbody>
            </table>
          </div>
        </div>
        <!-- FIN CRUD contacto -->
      </section>
    </div>

    <!-- INTEGRACION FIREBASE -->
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.2.3/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.2.3/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.3/firebase-auth.js"></script>

    <script>
      // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyBD9dBwvVCVL8-TbSBvXSJvj_8r3gX6kvE",
        authDomain: "mibarrio-51942.firebaseapp.com",
        projectId: "mibarrio-51942",
        storageBucket: "mibarrio-51942.appspot.com",
        messagingSenderId: "182863864432",
        appId: "1:182863864432:web:c9afa25a99632538510ab5",
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      const auth = firebase.auth();
    </script>

    <!-- Scripts de Bootstrap -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"
      integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js"
      integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj"
      crossorigin="anonymous"
    ></script>
    <!-- Importando JQuery -->
    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <!-- Script propio -->
    <!-- Script Popper (Para funcionalidad el modal)-->
    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>
    <script src="admin.js"></script>
  </body>
</html>
